<html>
  <head>
	<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ä½¿ç”¨ Stanza è¿›è¡Œè¯æ€§æ ‡æ³¨ | slackmorning</title>
<link rel="shortcut icon" href="https://slackmorning.github.io/favicon.ico?v=1589644408090">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://slackmorning.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="ä½¿ç”¨ Stanza è¿›è¡Œè¯æ€§æ ‡æ³¨ | slackmorning - Atom Feed" href="https://slackmorning.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="StanfordNLP çš„ python æ¥å£é¡¹ç›®æ”¹åä¸ºäº† Stanzaï¼Œ åˆšå¥½éœ€è¦å®Œæˆè¯æ€§æ ‡æ³¨ä»»åŠ¡ã€‚è®°å½•ä¸€ä¸‹ã€‚
å“¦ä¸ï¼ŒStanza é™¤äº†ç»§æ‰¿ Stanfor CoreNLP çš„ python æ¥å£ï¼Œè¿˜é›†æˆäº†åŸºäº PyTorch çš„ç¥ç»ç½‘ç»œ..." />
    <meta name="keywords" content="python,NLP" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://slackmorning.github.io">
  <img class="avatar" src="https://slackmorning.github.io/images/avatar.png?v=1589644408090" alt="">
  </a>
  <h1 class="site-title">
    slackmorning
  </h1>
  <p class="site-description">
    æ‘¸é±¼/ç¬”è®°
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          é¦–é¡µ
        </a>
      
    
      
        <a href="/archives" class="menu">
          å½’æ¡£
        </a>
      
    
      
        <a href="/tags" class="menu">
          æ ‡ç­¾
        </a>
      
    
      
        <a href="/about" class="menu">
          å…³äº
        </a>
      
    
      
        <a href="/friends" class="menu">
          æœ‹å‹
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/Opdoop" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
    
      
    
      
    
      
    
    
    <a href="https://space.bilibili.com/7456099" target="_blank">
      <i>
        <img src="https://slackmorning.github.io/images/bilibili.png" alt="" style="width:18px;height:18px;">
      </i></a>
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              ä½¿ç”¨ Stanza è¿›è¡Œè¯æ€§æ ‡æ³¨
            </h2>
            <div class="post-info">
              <span>
                2020-05-16
              </span>
              <span>
                3 min read
              </span>
              
                <a href="https://slackmorning.github.io/zA48kO2lo/" class="post-tag">
                  # python
                </a>
              
                <a href="https://slackmorning.github.io/iCtpejR2bk/" class="post-tag">
                  # NLP
                </a>
              
            </div>
            
              <img class="post-feature-image" src="https://slackmorning.github.io/post-images/3TcW2scNJ.png" alt="">
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <p>StanfordNLP çš„ python æ¥å£é¡¹ç›®æ”¹åä¸ºäº† Stanzaï¼Œ åˆšå¥½éœ€è¦å®Œæˆè¯æ€§æ ‡æ³¨ä»»åŠ¡ã€‚è®°å½•ä¸€ä¸‹ã€‚<br>
å“¦ä¸ï¼ŒStanza é™¤äº†ç»§æ‰¿ Stanfor CoreNLP çš„ python æ¥å£ï¼Œè¿˜é›†æˆäº†åŸºäº PyTorch çš„ç¥ç»ç½‘ç»œæ¨¡å‹ã€‚</p>
<!-- more -->
<p>ä¸»è¦å‚è€ƒä¸º <a href="https://stanfordnlp.github.io/stanza/">stanza æ–‡æ¡£</a> ã€‚ä»¥ä¸‹ä¸ºå…·ä½“è®°å½•</p>
<h3 id="1-å®‰è£…">1. å®‰è£…</h3>
<pre><code class="language-python">pip install stanza
</code></pre>
<p>Oh no, stanza æ”¯æŒ 1.3.0 åŠå…¶ä»¥ä¸Šçš„ pytorchï¼Œä¸ºäº†ä¸å½±å“å·²æœ‰é¡¹ç›®ï¼Œ conda create æ–°ç¯å¢ƒã€‚</p>
<pre><code class="language-python">conda create -n stanza python=3.6.1
conda activate stanza
pip install stanza
</code></pre>
<p>Oh no, stanza é»˜è®¤å®‰è£…çš„ pytorch ä¸º 1.4.0ï¼Œåœ¨æœ¬æœºä¸ŠæŠ¥é”™ï¼Œæ‰‹å·¥é™çº§è‡³ 1.3.0ã€‚ğŸ˜•</p>
<blockquote>
<p>ğŸ’¡ æœ€å¼€å§‹ä½¿ç”¨çš„ 3.6.0, è°ƒç”¨æ—¶ä¼šæŠ¥é”™ã€‚python ç‰ˆæœ¬å»ºè®®ä½¿ç”¨ 3.6.1 æˆ– 3.6.3<br>
è¿è¡Œ <code>conda install python=3.6.1</code> æ›´æ”¹ python ç‰ˆæœ¬</p>
</blockquote>
<h3 id="2-ä¸‹è½½éœ€è¦çš„æ¨¡å‹">2. ä¸‹è½½éœ€è¦çš„æ¨¡å‹</h3>
<p>pos éœ€è¦çš„æ¨¡å‹ä»<a href="https://stanfordnlp.github.io/stanza/pos.html#description">æ–‡æ¡£</a> ä¸­æŸ¥çœ‹ã€‚</p>
<pre><code class="language-python">import stanza
stanza.download('en', processors='tokenize,mwt,pos')
</code></pre>
<p>Oh no. æ²¡æŒ‚ä»£ç†ä¸‹è½½æ¨¡å‹å¥½æ…¢ã€‚<a href="https://flashgene.com/archives/112964.html">è¿™é‡Œ</a> æœ‰ç»™å‡ºæ‰‹åŠ¨ä¸‹è½½åæ›¿æ¢çš„æ–¹æ³•ï¼Œä½†æˆ‘å»æ‘¸äº†ä¼šå„¿é±¼ğŸ˜‡ï¼Œå›æ¥ä¹‹åä¸‹è½½å®Œäº†ã€‚</p>
<h3 id="3ä½¿ç”¨æ ·ä¾‹">3.ä½¿ç”¨æ ·ä¾‹</h3>
<pre><code class="language-python">import stanza

nlp = stanza.Pipeline(lang='en', processors='tokenize,mwt,pos')
doc = nlp('Barack Obama was born in Hawaii.') # è¿™é‡Œä¼ ç©ºå­—ç¬¦ä¸²ä¼šæŠ¥é”™
print(*[f'word: {word.text}\tupos: {word.upos}\txpos: {word.xpos}\tfeats: {word.feats if word.feats else &quot;_&quot;}' for sent in doc.sentences for word in sent.words], sep='\n')
</code></pre>
<p>å¾—åˆ°å¦‚ä¸‹</p>
<pre><code class="language-linux">word: Barack    upos: PROPN     xpos: NNP       feats: Number=Sing
word: Obama     upos: PROPN     xpos: NNP       feats: Number=Sing
word: was       upos: AUX       xpos: VBD       feats: Mood=Ind|Number=Sing|Person=3|Tense=Past|VerbForm=Fin
word: born      upos: VERB      xpos: VBN       feats: Tense=Past|VerbForm=Part|Voice=Pass
word: in        upos: ADP       xpos: IN        feats: _
word: Hawaii    upos: PROPN     xpos: NNP       feats: Number=Sing
word: .         upos: PUNCT     xpos: .         feats: _
</code></pre>
<h3 id="4-è·å–-pos-ç»“æœ">4. è·å– pos ç»“æœ</h3>
<pre><code class="language-python">for sent in doc.sentences:
    for word in sent.words:
        token = word.text
        pos = word.upos   # word.xpos å’Œ word.upos æ˜¯ä¸¤ä¸ª tag è¡¨å¯¹åº”çš„ tag
</code></pre>
<p>æ ¹æ®æ–‡æ¡£ä»‹ç» upos å’Œ xpos ä¸ºä¸¤ä¸ªè¯æ€§æ ‡ç­¾è¡¨å¯¹åº”çš„ tag<br>
<code>universal POS (UPOS) tags, treebank-specific POS (XPOS) tags</code></p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li><a href="#1-%E5%AE%89%E8%A3%85">1. å®‰è£…</a></li>
<li><a href="#2-%E4%B8%8B%E8%BD%BD%E9%9C%80%E8%A6%81%E7%9A%84%E6%A8%A1%E5%9E%8B">2. ä¸‹è½½éœ€è¦çš„æ¨¡å‹</a></li>
<li><a href="#3%E4%BD%BF%E7%94%A8%E6%A0%B7%E4%BE%8B">3.ä½¿ç”¨æ ·ä¾‹</a></li>
<li><a href="#4-%E8%8E%B7%E5%8F%96-pos-%E7%BB%93%E6%9E%9C">4. è·å– pos ç»“æœ</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">ä¸‹ä¸€ç¯‡</div>
            <a href="https://slackmorning.github.io/R5qoux4sL/">
              <h3 class="post-title">
                Gridea æ·»åŠ   Valine ç•™è¨€ç³»ç»Ÿ
              </h3>
            </a>
          </div>
        
		
		<div id="vcomments"></div>
		<script>
			new Valine({
				el: '#vcomments',
				appId: 'GsWUMl5T5cUvWJRYiLKuUMYC-MdYXbMMI',
				appKey: '7EIbaqseUiGj33I0I1z93nSG',
				avatar:'hide',
				placeholder: 'è‹¥æœ‰å¤©æˆ‘ä¸å¤å‹‡å¾€ èƒ½å¦åšæŒèµ°å®Œè¿™ä¸€åœº è¸éä¸‡æ°´åƒå±±æ€»æœ‰ä¸€åœ°æ•…ä¹¡'
			})
		</script>

        

        <div class="site-footer">
  Powered by å’¸é±¼ğŸ¤¤ Â© 2020 
  <a class="rss" href="https://slackmorning.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
